package model.estrutura;

public class Router {
	ProtocolList newProtocolList;
	
	public Router() {
		this.newProtocolList = new ProtocolList();
	}
	
	public void addData(String type, String data) {
		Protocol protocol = this.newProtocolList.getOrAddProtocol(type, data);
		
		DataList addData = protocol.getDataList();
		
		addData.writeData(data);
		
	}
	
	public String readData(String type) throws IllegalArgumentException {
		if (this.newProtocolList == null) {
			throw new IllegalArgumentException("Nao existem protocolos no momento");
		}
		
		Protocol protocol = this.newProtocolList.get(type);
		
		DataList toRead = protocol.getDataList();
		
		String buffer = toRead.readData();
		
		if (buffer.equals("empty.!.")) {
			this.newProtocolList.remove(type);
			return "Nada para ler, excluindo o protocolo...";
		}
		
		return buffer;
		
	}

}